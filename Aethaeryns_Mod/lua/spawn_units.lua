#define MOD_LUA_SPAWN_UNITS
<<
spawn_unit = {}

local function starter_shops()
   local shops = {
      -- Labaenry
      {68, 87},
      {79, 93},
      {77, 94},
      {66, 100},
      {72, 103},
      {90, 100},
      {92, 119},
      -- Blynaerth
      {41, 160},
      -- Luddoc
      {58, 183},
      -- Aethylcyn
      {56, 120},
      -- Sellyn
      {42, 28},
      -- Seoraedd
      {105, 67},
      -- North Elabril
      {142, 78},
      -- Elabril
      {135, 90},
      -- Wesrheon
      {156, 58},
      -- East Rheon
      {174, 58},
      -- Deranion
      {211, 54},
      -- Fort Garn
      {207, 35},
      -- Duldrasiath
      {270, 23},
      -- Nuh
      {241, 66},
      -- Azhan
      {300, 75},
      -- Zuhsil
      {274, 130},
      -- Drake shops
      {311, 143},
      {290, 169},
      -- Vanathion
      {210, 170},
      {195, 178},
   }

   for i, shop in ipairs(shops) do
      game_object.simple_place(shop[1], shop[2], "shop", "scenery/tent-shop-weapons.png", true)
      -- Temporarily auto-stock all shops with the same thing.
      mod_inventory.add("Small Healing Potion", 20, containers[shop[1]][shop[2]]["shop"])
      mod_inventory.add("Healing Potion", 10, containers[shop[1]][shop[2]]["shop"])
      mod_inventory.add("Scroll (Teleportation)", 5, containers[shop[1]][shop[2]]["shop"])
   end
end

local function battle_starter_shops()
   local shops = {
      {11, 6},
      {11, 18},
   }

   for i, shop in ipairs(shops) do
      game_object.simple_place(shop[1], shop[2], "shop", "scenery/tent-shop-weapons.png", true)
   end
end

-- Chooses the adjacent summoner with the highest HP.
local function find_summoner(x, y, summoners)
   local max_hp = 0
   for key,value in pairs(summoners) do
      if summoners[key].x <= x + 1 and summoners[key].x >= x - 1
         and summoners[key].y <= y + 1 and summoners[key].y >= y - 1
         and summoners[key].hitpoints > max_hp then
         max_hp  = summoners[key].hitpoints
         max_key = key
      end
   end
   return summoners[max_key]
end

function haste(x, y, moves)
   wesnoth.add_modification(wesnoth.get_unit(x, y),
                            "object",
                            { duration = "turn",
                              T.effect { apply_to = "movement", increase = moves },
                              T.effect { apply_to = "attack", increase_attacks = 1 },
                              T.effect { apply_to = "new_ability",
                                         T.abilities { T.dummy { name = _ "haste",
                                                                 description = _ "This unit has extra attacks and movement." } } } })
end

-- Unit role is summoner type; icon and unit_role are optional.
function spawn_unit.spawn_unit(x, y, unit_type, side_number, icon, unit_role, gender, variation)
   local unit_stats = {type = unit_type,
                       side = side_number,
                       upkeep = 0}
   if icon ~= nil then
      unit_stats.overlays = icon
   end
   if unit_role ~= nil then
      unit_stats.role = unit_role
   end
   if gender ~= nil then
      unit_stats.gender = gender
   end
   if variation ~= nil and variation ~= "none" then
      unit_stats.variation = variation
   end
   wesnoth.put_unit(x, y, unit_stats)
   if string.find(wesnoth.get_terrain(x, y), "%^V") ~= nil and wesnoth.get_village_owner(x, y) ~= side_number then
      wesnoth.set_village_owner(x, y, side_number, true)
      change_unit.max_moves_doubler(x, y, true)
   else
      change_unit.max_moves_doubler(x, y)
   end
end

function spawn_unit.spawn_group(x, y, units, side_number)
   local hexes = wesnoth.get_locations { x = x, y = y, radius = 1 }
   local j = 1
   for i, unit in ipairs(units) do
      if wesnoth.get_unit(hexes[j][1], hexes[j][2]) == nil then
         spawn_unit.spawn_unit(hexes[j][1], hexes[j][2], unit, side_number)
      end
      j = j + 1
   end
end

function spawn_unit.boss_spawner(x, y, unit_type, unit_role, side_number)
   spawn_unit.spawn_unit(x, y, unit_type, side_number, "misc/hero-icon.png", unit_role)
   local regenerates = wesnoth.get_variable("regenerates")
   local boss_ability = { T["effect"] { apply_to = "new_ability", {"abilities", regenerates}}}
   local unit = wesnoth.get_unit(x, y)
   wesnoth.add_modification(unit, "object", boss_ability)
end

function spawn_unit.reg_spawner(x, y, unit_type, unit_role, side_number)
   local unit_cost = wesnoth.unit_types[unit_type].__cfg.cost
   local summoner = find_summoner(x, y, wesnoth.get_units {side = side_number, role = unit_role})
   if summoner.hitpoints > unit_cost then
      summoner.hitpoints = summoner.hitpoints - unit_cost
      spawn_unit.spawn_unit(x, y, unit_type, side_number)
      return true
   else
      return false
   end
end

function spawn_unit.spawn_region(units, side_number)
   for i, unit in ipairs(units) do
      -- Gender is optional
      if unit[4] ~= nil then
         spawn_unit.spawn_unit(unit[1], unit[2], unit[3], side_number, nil, nil, unit[4])
      else
         spawn_unit.spawn_unit(unit[1], unit[2], unit[3], side_number)
      end
   end
end

-- Spawns all the preset units so the huge maps can get populated.
-- todo: remove
local function spawn_npc(coord, unit_name)
   spawn_unit.spawn_unit(coord[1], coord[2], unit_name, NPC_SIDE)
end

-- Make it less likely for the starting goblins to kill a player so early
local function nerf_starter_goblins()
   change_unit.hitpoints(138, 6, 15)
   change_unit.moves(138, 6, 0)
   change_unit.hitpoints(135, 9, 10)
   change_unit.moves(135, 9, 0)
   change_unit.hitpoints(139, 9, 11)
   change_unit.moves(139, 9, 0)
   change_unit.hitpoints(142, 7, 10)
   change_unit.moves(142, 7, 0)
   change_unit.moves(140, 12, 0)
   change_unit.moves(140, 13, 0)
   change_unit.moves(145, 14, 3)
   change_unit.moves(145, 15, 3)
   change_unit.moves(146, 14, 3)
   change_unit.moves(146, 15, 3)
end

local function npcs_in_sellyn()
   local units = {
      {40, 27, "Peasant"},
      {56, 28, "Peasant"},
      {43, 30, "Peasant"},
      {55, 23, "Peasant"},
      {23, 44, "Woodsman"},
      {37, 42, "Woodsman"},
      {65, 21, "Spearman"},
      {69, 33, "Poacher"},
      {40, 26, "Spearman"},
      {42, 26, "Heavy Infantryman"},
      {40, 29, "Heavy Infantryman"},
      {40, 30, "Lieutenant"},
      {41, 33, "Bowman"},
      {39, 30, "Spearman"},
      {39, 31, "Bowman"},
      {52, 32, "Swordsman"},
      {52, 30, "Spearman"},
      {54, 30, "Bowman"},
      {58, 30, "Spearman"},
      {53, 29, "Heavy Infantryman"},
      {54, 25, "Spearman"},
      {56, 25, "Bowman"},
      {48, 26, "White Mage", "female"},
      {44, 27, "Fencer"},
      {57, 27, "Fencer"},
      {57, 29, "Mage"},
      {53, 28, "Knight"},
      {57, 31, "Cavalryman"},
      {37, 36, "Bowman"},
      {53, 41, "Poacher"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_outer_labaenry()
   local units = {
      {65, 135, "Thug"},
      {65, 133, "Poacher"},
      {66, 131, "Spearman"},
      {56, 129, "Spearman"},
      {54, 128, "Bowman"},
      {52, 124, "Sergeant"},
      {49, 123, "Spearman"},
      {49, 122, "Bowman"},
      {50, 122, "Fencer"},
      {51, 122, "Mage"},
      {52, 121, "Spearman"},
      {57, 122, "Heavy Infantryman"},
      {61, 127, "Cavalryman"},
      {67, 122, "Cavalryman"},
      {77, 124, "Poacher"},
      {72, 121, "Footpad"},
      {67, 119, "Spearman"},
      {67, 118, "Bowman"},
      {66, 117, "Swordsman"},
      {64, 118, "Pikeman"},
      {62, 119, "Shock Trooper"},
      {59, 118, "Shock Trooper"},
      {58, 117, "Longbowman"},
      {54, 116, "White Mage", "female"},
      {56, 117, "White Mage"},
      {55, 117, "Arch Mage"},
      {55, 116, "Red Mage", "female"},
      {49, 117, "Mage", "female"},
      {53, 115, "Pikeman"},
      {53, 113, "Swordsman"},
      {53, 112, "Longbowman"},
      {52, 118, "Mage of Light"},
      {52, 119, "Red Mage", "female"},
      {51, 119, "Mage", "female"},
      {51, 118, "General"},
      {50, 118, "Trapper"},
      {49, 119, "Swordsman"},
      {49, 118, "Pikeman"},
      {50, 117, "Duelist"},
      {51, 117, "Rogue", "female"},
      {52, 116, "Knight"},
      {52, 117, "Knight"},
      {53, 118, "Dragoon"},
      {53, 119, "Knight"},
      {54, 118, "Horseman"},
      {55, 119, "Horseman"},
      {54, 119, "Fencer"},
      {53, 120, "Swordsman"},
      {55, 120, "Pikeman"},
      {57, 119, "Shock Trooper"},
      {54, 120, "Cavalryman"},
      {45, 112, "Poacher"},
      {49, 108, "Spearman"},
      {54, 108, "Bowman"},
      {59, 111, "Heavy Infantryman"},
      {56, 116, "Horseman"},
      {64, 113, "Cavalryman"},
      {58, 105, "Cavalryman"},
      {57, 107, "Spearman"},
      {55, 106, "Bowman"},
      {52, 104, "Spearman"},
      {90, 129, "Spearman"},
      {88, 129, "Bowman"},
      {89, 131, "Heavy Infantryman"},
      {93, 131, "Cavalryman"},
      {97, 133, "Spearman"},
      {86, 128, "Footpad"},
      {88, 126, "Spearman"},
      {90, 125, "Mage", "female"},
      {93, 121, "White Mage"},
      {105, 129, "Swordsman"},
      {103, 128, "Spearman"},
      {105, 126, "Spearman"},
      {104, 125, "Bowman"},
      {102, 127, "Lieutenant"},
      {99, 127, "Footpad", "female"},
      {103, 126, "Horseman"},
      {95, 127, "Poacher"},
      {103, 123, "Poacher"},
      {106, 118, "Spearman"},
      {103, 127, "Heavy Infantryman"},
      {100, 122, "Cavalryman"},
      {95, 123, "Knight"},
      {96, 121, "Horseman"},
      {99, 119, "Poacher"},
      {102, 120, "Thug"},
      {92, 128, "Thug"},
      {104, 119, "Footpad"},
      {94, 119, "Thief"},
      {95, 119, "Thief", "female"},
      {90, 122, "Fencer"},
      {91, 123, "Fencer"},
      {91, 124, "General"},
      {92, 124, "Pikeman"},
      {93, 125, "Horseman"},
      {96, 124, "Spearman"},
      {98, 122, "Spearman"},
      {98, 121, "Bowman"},
      {97, 122, "Bowman"},
      {95, 124, "Heavy Infantryman"},
      {91, 120, "Shock Trooper"},
      {91, 118, "Trapper"},
      {90, 121, "Spearman"},
      {88, 120, "Thug"},
      {89, 121, "Mage"},
      {87, 118, "Shock Trooper"},
      {86, 118, "Pikeman"},
      {87, 117, "Swordsman"},
      {84, 115, "Longbowman"},
      {82, 114, "Pikeman"},
      {84, 112, "Spearman"},
      {84, 113, "Horseman"},
      {83, 113, "Horseman"},
      {79, 109, "Cavalryman"},
      {87, 112, "Thug"},
      {87, 108, "Longbowman"},
      {84, 106, "Royal Guard"},
      {74, 101, "Iron Mauler"},
      {77, 113, "Spearman"},
      {76, 112, "Bowman"},
      {75, 111, "Heavy Infantryman"},
      {77, 111, "Spearman"},
      {73, 107, "Master at Arms"},
      {72, 107, "Duelist"},
      {72, 106, "Duelist"},
      {73, 105, "Fencer"},
      {73, 106, "Fencer"},
      {74, 106, "Fencer"},
      {70, 101, "Shock Trooper"},
      {70, 99, "Great Mage"},
      {69, 99, "Arch Mage", "female"},
      {69, 100, "Silver Mage"},
      {68, 98, "Red Mage"},
      {68, 99, "Red Mage", "female"},
      {67, 98, "Mage", "female"},
      {62, 101, "Paladin"},
      {64, 102, "Mage of Light", "female"},
      {63, 102, "White Mage", "female"},
      {64, 101, "White Mage"},
      {63, 101, "White Mage"},
      {65, 101, "Mage"},
      {66, 99, "Mage", "female"},
      {65, 97, "Mage"},
      {62, 97, "Mage", "female"},
      {59, 97, "Cavalryman"},
      {47, 101, "Spearman"},
      {47, 100, "Bowman"},
      {48, 98, "Poacher"},
      {52, 96, "Footpad"},
      {53, 95, "Spearman"},
      {53, 94, "Bowman"},
      {54, 92, "Spearman"},
      {56, 91, "Poacher"},
      {50, 99, "Horseman"},
      {51, 99, "Lieutenant"},
      {60, 92, "Shock Trooper"},
      {62, 92, "Heavy Infantryman"},
      {57, 90, "Bowman"},
      {57, 89, "Spearman"},
      {58, 86, "Spearman"},
      {60, 84, "Bowman"},
      {63, 83, "Spearman"},
      {64, 82, "Bowman"},
      {66, 82, "Spearman"},
      {68, 82, "Bowman"},
      {70, 81, "Spearman"},
      {63, 87, "Swordsman"},
      {63, 86, "Javelineer"},
      {64, 86, "Pikeman"},
      {64, 87, "Longbowman"},
      {69, 87, "White Mage", "female"},
      {70, 86, "Swordsman"},
      {69, 90, "Shock Trooper"},
      {72, 88, "Shock Trooper"},
      {71, 88, "Knight"},
      {70, 89, "Lancer"},
      {74, 87, "Longbowman"},
      {67, 85, "Dragoon"},
      {73, 81, "Shock Trooper"},
      {75, 81, "Heavy Infantryman"},
      {75, 80, "Poacher"},
      {77, 81, "Spearman"},
      {79, 80, "Bowman"},
      {81, 81, "Spearman"},
      {81, 79, "Poacher"},
      {80, 82, "Swordsman"},
      {77, 86, "Cavalryman"},
      {84, 82, "Pikeman"},
      {84, 84, "Longbowman"},
      {83, 85, "White Mage"},
      {83, 84, "Fencer"},
      {82, 84, "Shock Trooper"},
      {82, 85, "Longbowman"},
      {83, 86, "Swordsman"},
      {80, 83, "Thief", "female"},
      {73, 84, "Thief"},
      {72, 85, "Thief", "female"},
      {76, 83, "Rogue"},
      {65, 88, "Rogue", "female"},
      {74, 86, "Fencer"},
      {78, 84, "Fencer"},
      {65, 89, "Fencer"},
      {70, 87, "Duelist"},
      {66, 84, "Fencer"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_inner_labaenry()
   local units = {
      {77, 92, "General"},
      {90, 95, "Grand Marshal"},
      {91, 96, "General"},
      {85, 94, "Royal Warrior"},
      {86, 94, "Grand Knight"},
      {85, 95, "Royal Guard"},
      {84, 94, "Royal Guard"},
      {86, 93, "Royal Guard"},
      {84, 93, "Iron Mauler"},
      {85, 93, "Iron Mauler"},
      {87, 94, "Master Bowman"},
      {86, 95, "Cavalier"},
      {87, 95, "Mage of Light"},
      {88, 96, "Master at Arms"},
      {87, 98, "Great Mage", "female"},
      {85, 96, "Halberdier"},
      {85, 98, "Master Bowman"},
      {88, 99, "Royal Guard"},
      {90, 98, "Iron Mauler"},
      {91, 95, "Lieutenant"},
      {92, 95, "Lieutenant"},
      {93, 95, "Sergeant"},
      {91, 97, "Arch Mage"},
      {87, 92, "White Mage"},
      {83, 92, "Red Mage"},
      {89, 96, "Knight"},
      {90, 96, "Knight"},
      {89, 97, "Knight"},
      {90, 97, "Knight"},
      {86, 97, "Paladin"},
      {88, 98, "Dragoon"},
      {91, 98, "Longbowman"},
      {92, 97, "Pikeman"},
      {92, 96, "Swordsman"},
      {92, 93, "Iron Mauler"},
      {94, 94, "Royal Guard"},
      {88, 91, "Master Bowman"},
      {86, 90, "Halberdier"},
      {89, 92, "Red Mage"},
      {85, 90, "Shock Trooper"},
      {96, 95, "Ranger"},
      {98, 96, "Trapper"},
      {100, 97, "Halberdier"},
      {102, 98, "Master Bowman"},
      {100, 99, "Highwayman"},
      {103, 99, "Fugitive"},
      {103, 100, "Thug"},
      {96, 97, "Fencer"},
      {100, 102, "Thug"},
      {100, 100, "Footpad"},
      {97, 103, "Thug"},
      {98, 99, "Thief"},
      {95, 99, "Rogue", "female"},
      {92, 99, "Duelist"},
      {94, 100, "Assassin"},
      {96, 101, "Rogue"},
      {97, 100, "Pikeman"},
      {93, 102, "Pikeman"},
      {90, 106, "Trapper"},
      {92, 105, "Swordsman"},
      {87, 105, "Iron Mauler"},
      {89, 106, "Halberdier"},
      {88, 104, "Lieutenant"},
      {86, 103, "Woodsman"},
      {85, 104, "Javelineer"},
      {83, 103, "Longbowman"},
      {81, 102, "Swordsman"},
      {82, 101, "Spearman"},
      {79, 101, "Royal Guard"},
      {77, 100, "Halberdier"},
      {78, 99, "Red Mage", "female"},
      {79, 98, "Shock Trooper"},
      {80, 98, "Swordsman"},
      {89, 102, "Red Mage"},
      {91, 102, "Fencer"},
      {91, 103, "Fencer"},
      {90, 103, "Thief", "female"},
      {86, 100, "Longbowman"},
      {75, 98, "Spearman"},
      {73, 97, "Spearman"},
      {69, 94, "Cavalryman"},
      {69, 95, "Horseman"},
      {70, 94, "Heavy Infantryman"},
      {72, 91, "Royal Guard"},
      {75, 90, "Halberdier"},
      {75, 93, "Iron Mauler"},
      {68, 94, "Master Bowman"},
      {76, 91, "White Mage", "female"},
      {76, 93, "Duelist"},
      {78, 92, "Fencer"},
      {78, 94, "Fencer"},
      {80, 93, "Fencer"},
      {82, 94, "Duelist"},
      {78, 89, "Swordsman"},
      {80, 90, "Spearman"},
      {82, 89, "Heavy Infantryman"},
      {73, 95, "Heavy Infantryman"},
      {75, 96, "Shock Trooper"},
      {79, 96, "Ghazi"},
      {77, 97, "Dwarvish Runesmith"},
      {82, 97, "Elvish Sylph"},
      {98, 97, "Woodsman"},
      {87, 102, "Peasant"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
   change_unit.transform_keeping_stats(82, 97, wesnoth.get_unit(82, 97), "Elvish Lady")
end

local function npcs_in_deranion()
   local units = {
      {216, 52, "Elvish Archer", "female"},
      {218, 54, "Elvish Fighter"},
      {212, 51, "Elvish Shaman"},
      {213, 54, "Elvish Shaman"},
      {210, 48, "Elvish Archer"},
      {209, 55, "Elvish Fighter"},
      {214, 56, "Elvish Archer", "female"},
      {205, 51, "Elvish Fighter"},
      {190, 45, "Elvish Fighter"},
      {178, 50, "Elvish Fighter"},
      {178, 46, "Elvish Archer"},
      {185, 52, "Elvish Archer", "female"},
      {183, 54, "Elvish Fighter"},
      {182, 56, "Elvish Fighter"},
      {197, 52, "Elvish Druid"},
      {195, 55, "Elvish Shaman"},
      {199, 53, "Elvish Archer"},
      {187, 50, "Elvish Archer", "female"},
      {190, 52, "Elvish Fighter"},
      {192, 54, "Elvish Archer"},
      {191, 59, "Elvish Lord"},
      {189, 59, "Elvish Sorceress"},
      {193, 63, "Elvish Fighter"},
      {184, 64, "Elvish Archer", "female"},
      {180, 69, "Elvish Fighter"},
      {195, 59, "Elvish Scout"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_between_deranion_and_elabril()
   local units = {
      {174, 74, "Elvish Fighter"},
      {170, 73, "Elvish Archer"},
      {163, 69, "Elvish Scout"},
      {155, 74, "Elvish Fighter"},
      {154, 76, "Elvish Fighter"},
      {162, 78, "Elvish Archer", "female"},
      {158, 80, "Elvish Shaman"},
      {155, 82, "Elvish Fighter"},
      {153, 84, "Elvish Fighter"},
      {156, 84, "Elvish Archer"},
      {169, 82, "Elvish Scout"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_elabril()
   local units = {
      {141, 85, "Elvish Hero"},
      {143, 85, "Elvish Fighter"},
      {145, 85, "Elvish Fighter"},
      {147, 85, "Elvish Ranger", "female"},
      {146, 86, "Elvish Shaman"},
      {138, 85, "Elvish Ranger"},
      {131, 85, "Elvish Ranger", "female"},
      {139, 88, "Wose"},
      {147, 90, "Wose"},
      {134, 94, "Wose"},
      {134, 99, "Wose"},
      {132, 100, "Elvish Fighter"},
      {149, 90, "Elvish Fighter"},
      {149, 94, "Elvish Archer"},
      {141, 91, "Elvish Druid"},
      {141, 93, "Elvish Shaman"},
      {132, 89, "Elvish Druid"},
      {135, 86, "Elvish High Lord"},
      {134, 86, "Elvish Enchantress"},
      {137, 87, "Elvish Captain"},
      {133, 87, "Elvish Fighter"},
      {134, 88, "Elvish Archer", "female"},
      {136, 88, "Elvish Archer"},
      {138, 87, "Elvish Fighter"},
      {129, 88, "Elvish Fighter"},
      {133, 91, "Elvish Rider"},
      {143, 90, "Elvish Rider"},
      {132, 95, "Elvish Sorceress"},
      {131, 96, "Elvish Sorceress"},
      {132, 93, "Elvish Fighter"},
      {138, 93, "Elvish Sylph"},
      {136, 92, "Elvish Shyde"},
      {144, 91, "Elvish Shaman"},
      {139, 97, "Elvish Captain"},
      {137, 99, "Elvish Hero"},
      {138, 98, "Elvish Fighter"},
      {139, 98, "Elvish Archer", "female"},
      {142, 97, "Elvish Fighter"},
      {146, 96, "Elvish Marksman"},
      {141, 99, "Elvish Fighter"},
      {143, 99, "Elvish Fighter"},
      {147, 98, "Elvish Ranger", "female"},
      {135, 101, "Elvish Ranger"},
      {144, 96, "Elvish Scout"},
      {155, 93, "Elder Wose"},

   }
   spawn_unit.spawn_region(units, NPC_SIDE)
   change_unit.transform_keeping_stats(136, 92, wesnoth.get_unit(136, 92), "Elvish Lady")
   change_unit.transform_keeping_stats(138, 93, wesnoth.get_unit(138, 93), "Elvish Lady")
end

local function npcs_in_elrolas()
   local units = {
      {244, 130, "Elvish Scout"},
      {237, 136, "Elvish Scout"},
      {233, 130, "Elvish Fighter"},
      {237, 125, "Elvish Fighter"},
      {234, 125, "Elvish Shaman"},
      {239, 127, "Elvish Archer", "female"},
      {237, 119, "Elvish Shaman"},
      {217, 119, "Elvish Fighter"},
      {222, 113, "Elvish Archer"},
      {216, 115, "Elvish Shaman"},
      {214, 114, "Elvish Fighter"},
      {213, 113, "Elvish Fighter"},
      {208, 114, "Elvish Archer", "female"},
      {203, 115, "Elvish Shaman"},
      {200, 115, "Elvish Fighter"},
      {202, 111, "Elvish Archer"},
      {204, 117, "Elvish Scout"},
      {204, 99, "Elvish Fighter"},
      {196, 91, "Elvish Scout"},
      {208, 106, "Elvish Shaman"},
      {215, 105, "Elvish Archer", "female"},
      {224, 106, "Elvish Fighter"},
      {221, 105, "Elvish Fighter"},
      {224, 99, "Elvish Lord"},
      {218, 99, "Elvish Sorceress"},
      {221, 99, "Elvish Archer"},
      {220, 102, "Elvish Scout"},
      {223, 102, "Elvish Shaman"},
      {218, 103, "Elvish Fighter"},
      {214, 97, "Elvish Archer", "female"},
      {225, 103, "Elvish Archer"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_outer_vanathion()
   local units = {
      {169, 167, "Elvish Scout"},
      {153, 195, "Elvish Scout"},
      {222, 163, "Elvish Scout"},
      {242, 147, "Elvish Scout"},
      {241, 153, "Elvish Shaman"},
      {198, 162, "Elvish Archer"},
      {202, 165, "Elvish Ranger", "female"},
      {188, 165, "Elvish Archer"},
      {179, 172, "Elvish Archer", "female"},
      {188, 174, "Elvish Archer"},
      {182, 175, "Elvish Fighter"},
      {179, 183, "Elvish Fighter"},
      {168, 187, "Elvish Archer", "female"},
      {177, 191, "Elvish Sorceress"},
      {174, 190, "Elvish Shaman"},
      {178, 190, "Elvish Fighter"},
      {174, 194, "Elvish Hero"},
      {176, 192, "Elvish Scout"},
      {178, 192, "Elvish Marksman", "female"},
      {182, 192, "Elvish Shaman"},
      {187, 188, "Elvish Archer"},
      {195, 189, "Elvish Fighter"},
      {188, 198, "Elvish Fighter"},
      {190, 192, "Ancient Wose"},
      {196, 191, "Elder Wose"},
      {187, 196, "Elder Wose"},
      {193, 196, "Wose"},
      {195, 195, "Wose"},
      {191, 189, "Wose"},
      {192, 191, "Elvish Shyde"},
      {193, 188, "Elvish Druid"},
      {194, 192, "Elvish Shaman"},
      {189, 194, "Elvish Shaman"},
      {204, 192, "Elvish Fighter"},
      {208, 189, "Elvish Ranger"},
      {188, 182, "Elvish Archer", "female"},
      {188, 180, "Elvish Fighter"},
      {188, 169, "Elvish Scout"},
      {196, 167, "Elvish Hero"},
      {196, 170, "Elvish Marksman"},
      {196, 169, "Elvish Fighter"},
      {198, 168, "Elvish Shaman"},
      {205, 170, "Elvish Fighter"},
      {210, 168, "Elvish Shaman"},
      {210, 172, "Elvish Fighter"},
      {215, 174, "Elvish Fighter"},
      {214, 170, "Elvish Ranger", "female"},
      {216, 169, "Elvish Archer"},
      {220, 176, "Elvish Archer", "female"},
      {226, 175, "Elvish Scout"},
      {215, 167, "Elvish Fighter"},
      {218, 168, "Elvish Fighter"},
      {220, 168, "Elvish Archer"},
      {214, 166, "Elvish Archer", "female"},
      {237, 194, "Elvish Fighter"},
      {240, 186, "Elvish Fighter"},
      {233, 193, "Elvish Rider"},
      {234, 189, "Elvish Captain"},
      {234, 191, "Elvish Archer"},
      {236, 187, "Elvish Fighter"},
      {237, 186, "Elvish Archer", "female"},
      {238, 183, "Elvish Shaman"},
      {223, 190, "Elvish Fighter"},
      {226, 186, "Elvish Lord"},
      {225, 187, "Elvish Sorceress"},
      {224, 187, "Elvish Druid"},
      {225, 186, "Elvish Rider"},
      {224, 186, "Elvish Rider"},
      {226, 188, "Elvish Marksman"},
      {228, 187, "Elvish Hero"},
      {228, 186, "Elvish Archer", "female"},
      {230, 185, "Elvish Fighter"},
      {230, 183, "Elvish Shaman"},
      {231, 184, "Elvish Fighter"},
      {223, 184, "Elvish Ranger", "female"},
      {214, 189, "Elvish Fighter"},
      {215, 190, "Elvish Fighter"},
      {216, 190, "Elvish Fighter"},
      {214, 190, "Elvish Fighter"},
      {215, 191, "Elvish Captain"},
      {217, 190, "Elvish Scout"},
      {218, 185, "Elvish Archer"},
      {219, 180, "Elvish Archer", "female"},
      {218, 177, "Elvish Fighter"},
      {215, 180, "Elvish Archer"},
      {215, 181, "Elvish Archer", "female"},
      {214, 179, "Elvish Fighter"},
      {213, 176, "Elvish Archer"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_inner_vanathion()
   local units = {
      {191, 175, "Elvish Champion"},
      {201, 170, "Elvish Champion"},
      {211, 175, "Elvish Champion"},
      {191, 181, "Elvish Avenger"},
      {198, 188, "Elvish Avenger", "female"},
      {211, 179, "Elvish Avenger"},
      {192, 183, "Elvish Outrider"},
      {191, 184, "Elvish Rider"},
      {192, 184, "Elvish Rider"},
      {191, 183, "Elvish Sorceress"},
      {193, 185, "Elvish Scout"},
      {194, 186, "Elvish Scout"},
      {197, 185, "Elvish Rider"},
      {192, 182, "Elvish Hero"},
      {191, 185, "Elvish Marksman"},
      {193, 186, "Elvish Hero"},
      {199, 187, "Elvish Hero"},
      {200, 187, "Elvish Marksman", "female"},
      {201, 190, "Elvish Hero"},
      {197, 188, "Elvish Fighter"},
      {200, 186, "Elvish Outrider"},
      {201, 189, "Elvish Rider"},
      {203, 189, "Elvish Scout"},
      {205, 188, "Elvish Sorceress"},
      {195, 183, "Elvish Druid"},
      {200, 182, "Elvish Druid"},
      {204, 185, "Elvish Shaman"},
      {209, 182, "Elvish Shaman"},
      {193, 178, "Elvish Shaman"},
      {195, 175, "Elvish Shaman"},
      {200, 173, "Elvish Druid"},
      {206, 176, "Elvish Druid"},
      {191, 177, "Elvish Sharpshooter"},
      {193, 174, "Elvish Fighter"},
      {197, 172, "Elvish Sorceress"},
      {202, 172, "Elvish Fighter"},
      {203, 173, "Elvish Archer", "female"},
      {205, 172, "Elvish Rider"},
      {209, 174, "Elvish Ranger", "female"},
      {211, 177, "Elvish Hero"},
      {210, 177, "Elvish Marksman", "female"},
      {211, 176, "Elvish Scout"},
      {211, 183, "Elvish Sorceress"},
      {209, 186, "Elvish Fighter"},
      {205, 181, "Elvish Archer", "female"},
      {206, 182, "Elvish Fighter"},
      {211, 185, "Elvish Archer"},
      {205, 184, "Elvish Sorceress"},
      {207, 181, "Elvish Marshal"},
      {200, 176, "Elvish High Lord"},
      {202, 176, "Elvish Sylph"},
      {200, 179, "Elvish Enchantress"},
      {202, 179, "Elvish Enchantress"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_nuh()
   local units = {
      {229, 76, "Jundi"},
      {241, 81, "Jundi"},
      {255, 68, "Jundi"},
      {237, 64, "Jundi"},
      {244, 62, "Arif"},
      {236, 66, "Naffat"},
      {239, 66, "Muharib"},
      {232, 69, "Khaiyal"},
      {234, 68, "Rami"},
      {233, 71, "Falcon"},
      {231, 73, "Arif"},
      {235, 76, "Naffat"},
      {238, 75, "Jundi"},
      {243, 72, "Ghazi"},
      {246, 69, "Jundi"},
      {239, 69, "Arif"},
      {242, 69, "Jundi"},
      {245, 67, "Khalid"},
      {246, 65, "Naffat"},
      {246, 64, "Arif"},
      {240, 64, "Mudafi"},
      {243, 64, "Arif"},
      {241, 68, "Faris"},
      {239, 73, "Rami"},
      {236, 70, "Hakim"},
      {237, 73, "Hakim"},
      {234, 71, "Tabib"},
      {240, 70, "Arif"},
      {240, 73, "Naffat"},
      {248, 67, "Jundi"},
      {249, 65, "Monawish"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_azhan()
   local units = {
      {292, 64, "Jundi"},
      {307, 82, "Jundi"},
      {305, 78, "Naffat"},
      {292, 69, "Rami"},
      {305, 66, "Arif"},
      {311, 66, "Hakim"},
      {310, 63, "Jundi"},
      {299, 71, "Ghazi"},
      {297, 73, "Mudafi"},
      {297, 77, "Arif"},
      {302, 73, "Faris"},
      {302, 72, "Arif"},
      {304, 73, "Jundi"},
      {304, 75, "Arif"},
      {302, 76, "Jundi"},
      {299, 78, "Naffat"},
      {296, 75, "Hakim"},
      {295, 81, "Arif"},
      {302, 70, "Dwarvish Fighter"},
      {308, 72, "Dwarvish Guardsman"},
      {307, 70, "Dwarvish Thunderer"},
      {299, 82, "Fencer"},
      {293, 87, "Fencer"},
      {298, 88, "Fencer"},
      {295, 86, "White Mage"},
      {296, 88, "White Mage", "female"},
      {294, 90, "White Mage"},
      {303, 87, "White Mage"},
      {291, 86, "White Mage", "female"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_zuhsil()
   local units = {
      {270, 131, "Jundi"},
      {275, 133, "Jundi"},
      {284, 135, "Mudafi"},
      {284, 136, "Arif"},
      {287, 134, "Mudafi"},
      {288, 133, "Jundi"},
      {288, 132, "Khaiyal"},
      {287, 133, "Khaiyal"},
      {288, 131, "Rami"},
      {287, 132, "Rami"},
      {284, 130, "Hakim"},
      {280, 127, "Hakim"},
      {282, 127, "Arif"},
      {277, 126, "Arif"},
      {276, 126, "Jundi"},
      {273, 128, "Rami"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function npcs_in_drake_areas()
   local units = {
      {278, 148, "Drake Glider"},
      {291, 141, "Drake Glider"},
      {297, 141, "Drake Fighter"},
      {280, 168, "Drake Fighter"},
      {288, 172, "Drake Clasher"},
      {301, 182, "Drake Glider"},
      {302, 177, "Drake Fighter"},
      {283, 160, "Drake Clasher"},
      {309, 167, "Drake Fighter"},
      {302, 164, "Drake Fighter"},
      {302, 159, "Drake Fighter"},
      {305, 156, "Drake Clasher"},
      {306, 147, "Drake Clasher"},
      {308, 148, "Drake Clasher"},
      {313, 145, "Drake Flameheart"},
      {312, 142, "Drake Arbiter"},
      {314, 143, "Drake Burner"},
      {309, 146, "Drake Fighter"},
      {311, 148, "Drake Fighter"},
      {312, 146, "Drake Fighter"},
      {315, 146, "Drake Burner"},
      {313, 144, "Drake Clasher"},
      {323, 149, "Drake Fighter"},
      {320, 147, "Drake Burner"},
      {299, 152, "Drake Fighter"},
      {300, 153, "Sky Drake"},
      {301, 154, "Drake Flare"},
      {301, 155, "Drake Fighter"},
      {297, 152, "Drake Burner"},
      {284, 150, "Drake Fighter"},
      {287, 150, "Drake Clasher"},
      {287, 152, "Drake Clasher"},
      {286, 160, "Drake Fighter"},
      {288, 163, "Drake Burner"},
      {286, 170, "Drake Clasher"},
      {293, 169, "Drake Fighter"},
      {296, 173, "Drake Burner"},
      {285, 180, "Drake Glider"},
   }
   spawn_unit.spawn_region(units, NPC_SIDE)
end

local function mobs_in_occupied_teleporter()
   local units = {
      {138, 6, "Goblin Spearman"},
      {142, 7, "Goblin Spearman"},
      {139, 9, "Goblin Spearman"},
      {135, 9, "Goblin Spearman"},
      {140, 12, "Goblin Spearman"},
      {140, 13, "Goblin Spearman"},
      {146, 14, "Goblin Rouser"},
      {145, 14, "Goblin Spearman"},
      {145, 15, "Goblin Spearman"},
      {146, 15, "Goblin Spearman"},
      {147, 17, "Goblin Impaler"},
      {149, 16, "Goblin Impaler"},
      {124, 10, "Goblin Impaler"},
      {123, 8, "Goblin Spearman"},
      {120, 6, "Goblin Rouser"},
      {121, 6, "Goblin Spearman"},
      {124, 3, "Wolf Rider"},
      {123, 4, "Wolf Rider"},
      {117, 1, "Goblin Impaler"},
      {119, 2, "Goblin Spearman"},
      {116, 4, "Goblin Spearman"},
      {112, 2, "Goblin Spearman"},
      {109, 2, "Goblin Spearman"},
      {110, 4, "Goblin Rouser"},
      {109, 4, "Goblin Spearman"},
      {109, 5, "Goblin Spearman"},
      {110, 5, "Goblin Spearman"},
      {111, 5, "Goblin Spearman"},
      {111, 4, "Goblin Spearman"},
      {110, 3, "Goblin Spearman"},
      {105, 4, "Wolf Rider"},
      {103, 3, "Goblin Spearman"},
      {100, 3, "Goblin Impaler"},
      {122, 3, "Goblin Spearman"},
      {128, 2, "Goblin Spearman"},
      {131, 8, "Goblin Rouser"},
      {132, 8, "Goblin Impaler"},
      {130, 7, "Goblin Spearman"},
      {131, 7, "Goblin Spearman"},
      {130, 8, "Goblin Spearman"},
      {131, 4, "Goblin Spearman"},
      {133, 4, "Goblin Spearman"},
      {135, 2, "Goblin Spearman"},
      {144, 3, "Goblin Spearman"},
      {144, 4, "Goblin Spearman"},
      {143, 4, "Goblin Rouser"},
      {144, 9, "Goblin Spearman"},
      {144, 11, "Wolf Rider"},
      {147, 12, "Wolf Rider"},
      {148, 11, "Goblin Rouser"},
      {148, 12, "Goblin Spearman"},
      {148, 10, "Goblin Spearman"},
      {149, 11, "Goblin Spearman"},
   }
   spawn_unit.spawn_region(units, MOB_SIDE)
   nerf_starter_goblins()
end

local function mobs_in_fort_owidd()
   local units = {
      {19, 192, "Highwayman"},
      {19, 194, "Rogue", "female"},
      {21, 194, "Rogue"},
      {20, 193, "Rogue", "female"},
      {19, 193, "Outlaw", "female"},
      {21, 193, "Poacher"},
      {23, 192, "Footpad", "female"},
      {24, 191, "Footpad"},
      {24, 190, "Poacher"},
      {23, 190, "Poacher"},
      {21, 190, "Thief"},
      {20, 190, "Thug"},
      {22, 184, "Bandit"},
      {22, 185, "Trapper"},
      {21, 186, "Footpad", "female"},
      {20, 185, "Thief", "female"},
      {22, 190, "Ruffian"},
      {23, 191, "Ruffian"},
      {21, 191, "Ruffian"},
      {24, 192, "Woodsman"},
      {17, 190, "Woodsman"},
      {20, 189, "Ruffian"},
      {21, 185, "Thug"},
      {20, 192, "Thief"},
      {20, 191, "Thief", "female"},
      {22, 197, "Poacher"},
      {22, 189, "Trapper"},
      {20, 183, "Thug"},
      {18, 185, "Thug"},
      {27, 195, "Thug"},
      {28, 193, "Thug"},
      {32, 193, "Footpad"},
      {16, 197, "Footpad", "female"},
      {15, 194, "Thug"},
      {12, 191, "Poacher"},
      {27, 175, "Footpad"},
      {24, 172, "Footpad", "female"},
      {10, 187, "Trapper"},
      {23, 181, "Ruffian"},
      {25, 179, "Ruffian"},
      {36, 185, "Poacher"},
   }
   spawn_unit.spawn_region(units, MOB_SIDE)
end

local function mobs_around_vargork()
   local units = {
      {107, 120, "Orcish Grunt"},
      {114, 116, "Orcish Archer"},
      {119, 118, "Wolf Rider"},
      {126, 118, "Orcish Archer"},
      {116, 118, "Goblin Spearman"},
      {110, 120, "Goblin Spearman"},
      {114, 121, "Orcish Grunt"},
      {120, 123, "Goblin Spearman"},
      {113, 125, "Goblin Spearman"},
      {110, 125, "Orcish Grunt"},
      {115, 130, "Wolf Rider"},
      {111, 131, "Orcish Warrior"},
      {112, 128, "Goblin Spearman"},
      {118, 134, "Orcish Assassin"},
      {119, 135, "Orcish Ruler"},
      {116, 136, "Orcish Crossbowman"},
      {120, 137, "Orcish Grunt"},
      {120, 138, "Orcish Grunt"},
      {118, 136, "Goblin Pillager"},
      {119, 137, "Goblin Knight"},
      {117, 136, "Wolf Rider"},
      {117, 137, "Wolf Rider"},
      {103, 139, "Goblin Spearman"},
      {106, 139, "Goblin Spearman"},
      {106, 141, "Goblin Spearman"},
      {109, 141, "Goblin Spearman"},
      {108, 138, "Goblin Rouser"},
      {112, 142, "Goblin Impaler"},
      {94, 140, "Goblin Impaler"},
      {98, 138, "Poacher"},
      {101, 139, "Ruffian"},
      {89, 140, "Footpad"},
      {99, 144, "Ruffian"},
      {94, 147, "Wolf Rider"},
      {105, 150, "Wolf Rider"},
      {114, 142, "Ruffian"},
      {120, 132, "Goblin Spearman"},
      {124, 129, "Goblin Spearman"},
      {128, 135, "Troll Whelp"},
      {133, 138, "Orcish Warrior"},
      {131, 132, "Wolf Rider"},
      {130, 128, "Orcish Archer"},
      {134, 126, "Orcish Crossbowman"},
      {135, 130, "Orcish Warrior"},
      {134, 127, "Goblin Spearman"},
      {134, 128, "Goblin Spearman"},
      {135, 129, "Goblin Spearman"},
      {135, 128, "Goblin Rouser"},
      {136, 128, "Goblin Spearman"},
      {136, 127, "Orcish Archer"},
      {132, 124, "Wolf Rider"},
      {134, 121, "Orcish Grunt"},
      {127, 123, "Troll"},
      {128, 122, "Orcish Warrior"},
      {128, 123, "Orcish Crossbowman"},
      {126, 124, "Orcish Grunt"},
      {125, 123, "Orcish Grunt"},
      {126, 122, "Goblin Pillager"},
      {127, 125, "Goblin Spearman"},
      {125, 124, "Goblin Spearman"},
      {134, 115, "Orcish Grunt"},
      {139, 115, "Orcish Archer"},
      {144, 109, "Orcish Grunt"},
      {162, 110, "Orcish Archer"},
      {173, 109, "Orcish Grunt"},
      {166, 115, "Wolf Rider"},
      {125, 113, "Orcish Archer"},
      {127, 114, "Orcish Grunt"},
      {129, 114, "Orcish Archer"},
      {130, 113, "Troll"},
      {133, 112, "Troll Rocklobber"},
      {134, 110, "Orcish Archer"},
      {135, 109, "Orcish Grunt"},
      {134, 106, "Orcish Archer"},
      {134, 107, "Orcish Grunt"},
      {129, 112, "Wolf Rider"},
      {132, 110, "Goblin Rouser"},
      {132, 109, "Goblin Spearman"},
      {131, 110, "Goblin Spearman"},
      {135, 108, "Goblin Spearman"},
      {131, 113, "Goblin Spearman"},
      {132, 112, "Goblin Spearman"},
      {128, 109, "Ruffian"},
      {130, 107, "Ruffian"},
      {132, 107, "Ruffian"},
      {132, 106, "Orcish Leader"},
      {180, 108, "Goblin Spearman"},
      {181, 111, "Goblin Spearman"},
      {171, 112, "Goblin Spearman"},
      {172, 117, "Goblin Spearman"},
      {170, 106, "Goblin Spearman"},
      {166, 110, "Goblin Spearman"},
      {161, 107, "Goblin Spearman"},
      {155, 108, "Goblin Spearman"},
      {153, 113, "Goblin Spearman"},
      {147, 111, "Goblin Spearman"},
      {176, 112, "Wolf Rider"},
      {153, 112, "Wolf Rider"},
      {138, 117, "Wolf Rider"},
      {147, 119, "Orcish Grunt"},
      {146, 118, "Orcish Archer"},
      {144, 118, "Orcish Warrior"},
      {141, 120, "Troll"},
      {140, 120, "Goblin Impaler"},
      {139, 122, "Orcish Archer"},
      {139, 124, "Goblin Impaler"},
      {139, 125, "Troll"},
      {139, 128, "Orcish Warrior"},
      {145, 123, "Troll Rocklobber"},
      {145, 125, "Orcish Warrior"},
      {141, 124, "Goblin Knight"},
      {141, 117, "Goblin Spearman"},
      {140, 117, "Goblin Spearman"},
      {141, 118, "Goblin Rouser"},
      {142, 117, "Goblin Spearman"},
      {142, 121, "Goblin Spearman"},
      {147, 121, "Goblin Spearman"},
      {149, 123, "Goblin Spearman"},
      {142, 127, "Orcish Archer"},
      {143, 126, "Wolf Rider"},
      {146, 123, "Orcish Grunt"},
      {144, 121, "Orcish Grunt"},
      {147, 125, "Orcish Assassin"},
      {147, 127, "Orcish Sovereign"},
      {149, 127, "Orcish Ruler"},
      {145, 129, "Orcish Grunt"},
      {147, 130, "Orcish Crossbowman"},
      {141, 132, "Troll Whelp"},
      {140, 134, "Troll Whelp"},
      {146, 136, "Troll Whelp"},
      {146, 134, "Goblin Spearman"},
      {145, 133, "Goblin Spearman"},
      {138, 134, "Orcish Grunt"},
      {143, 130, "Orcish Grunt"},
      {140, 137, "Orcish Assassin"},
      {148, 131, "Troll Shaman"},
      {136, 136, "Troll"},
      {136, 138, "Orcish Grunt"},
      {138, 139, "Orcish Archer"},
      {143, 136, "Orcish Archer"},
      {149, 134, "Orcish Grunt"},
      {153, 134, "Orcish Archer"},
      {153, 136, "Orcish Grunt"},
      {159, 139, "Wolf Rider"},
   }

   spawn_unit.spawn_region(units, MOB_SIDE)
end

local function mobs_in_grinak()
   local units = {
      {242, 48, "Orcish Grunt"},
      {242, 46, "Orcish Grunt"},
      {245, 49, "Orcish Grunt"},
      {244, 45, "Orcish Archer"},
      {248, 48, "Orcish Archer"},
      {250, 49, "Wolf Rider"},
      {245, 46, "Wolf Rider"},
      {245, 47, "Goblin Spearman"},
      {246, 46, "Goblin Spearman"},
      {246, 47, "Goblin Spearman"},
      {247, 47, "Goblin Rouser"},
      {247, 48, "Goblin Spearman"},
      {248, 47, "Goblin Impaler"},
      {246, 45, "Orcish Ruler"},
      {249, 47, "Troll"},
      {248, 40, "Troll Whelp"},
      {250, 43, "Orcish Grunt"},
      {249, 43, "Orcish Archer"},
      {250, 41, "Orcish Assassin"},
      {253, 47, "Orcish Archer"},
      {254, 46, "Orcish Grunt"},
      {250, 45, "Troll Whelp"},
      {252, 44, "Goblin Spearman"},
      {251, 47, "Wolf Rider"},
      {245, 45, "Goblin Impaler"},
      {232, 52, "Goblin Pillager"},
   }

   spawn_unit.spawn_region(units, MOB_SIDE)
end

function spawn_default_starting_units()
   if wesnoth.get_variable("aeth_scenario_name") == "Woods" then
      npcs_in_sellyn()
      mobs_in_occupied_teleporter()
      mobs_in_fort_owidd()
      mobs_around_vargork()
      mobs_in_grinak()
      npcs_in_outer_labaenry()
      npcs_in_inner_labaenry()
      npcs_in_deranion()
      npcs_between_deranion_and_elabril()
      npcs_in_elabril()
      npcs_in_elrolas()
      npcs_in_outer_vanathion()
      npcs_in_inner_vanathion()
      npcs_in_nuh()
      npcs_in_azhan()
      npcs_in_zuhsil()
      npcs_in_drake_areas()
      local peasant_coords = {
         {70, 129},
         {65, 128},
         {58, 125},
         {61, 122},
         {69, 123},
         {73, 124},
         {82, 117},
         {75, 114},
         {71, 116},
         {62, 114},
         {64, 111},
         {61, 109},
         {66, 106},
         {77, 107},
         {83, 111},
         {56, 103},
         {59, 99},
         {57, 96},
         {49, 85},
         {55, 83},
         {51, 81},
         {56, 77},
         {59, 80},
         {63, 75},
         {56, 69},
         {70, 73},
         {72, 78},
         {78, 75},
         {79, 67},
         {86, 66},
         {86, 71},
         {88, 74},
         {93, 67},
         {92, 73},
         {87, 82},
         {91, 83},
         {89, 86},
         {98, 88},
         {104, 89},
         {102, 92},
         {100, 62},
         {104, 62},
         {102, 70},
         {104, 66},
         {110, 64},
         {112, 67},
         {108, 74},
         {139, 52},
         {141, 52},
         {141, 48},
         {150, 49},
         {152, 55},
         {155, 55},
         {151, 46},
         {153, 44},
         {158, 46},
         {162, 44},
         {166, 36},
         {178, 37},
         {171, 70},
         {170, 68},
         {175, 58},
         {175, 56},
         {173, 63},
         {178, 63},
         {189, 25},
         {195, 25},
         {196, 29},
         {196, 20},
         {26, 144},
         {23, 147},
         {30, 146},
         {44, 149},
         {41, 159},
         {43, 161},
         {35, 152},
         {37, 153},
         {31, 158},
         {35, 164},
         {30, 167},
         {35, 167},
         {40, 166},
         {41, 171},
         {54, 182},
         {57, 187},
         {58, 189},
         {57, 193},
         {92, 122},
         {100, 123},
         {87, 125},
         {96, 118},
         {94, 122},
         {64, 98},
         {71, 105},
         {63, 90},
         {60, 90},
         {65, 87},
         {204, 36},
      }
      local woodsman_coords = {
         {31, 72},
         {39, 91},
         {44, 94},
         {118, 69},
         {123, 70},
         {125, 65},
         {138, 81},
         {42, 196},
         {46, 197},
         {43, 137},
         {48, 140},
         {99, 117},
         {87, 123},
         {90, 132},
         {64, 95},
         {68, 83},
         {203, 31},
         {202, 37},
      }
      local ruffian_coords = {
         {133, 74},
         {135, 72},
         {140, 79},
         {142, 76},
         {115, 86},
         {117, 85},
         {107, 93},
         {107, 95},
         {64, 194},
         {62, 191},
         {65, 193},
         {50, 169},
         {53, 170},
         {66, 132},
         {69, 132},
         {102, 117},
         {89, 109},
         {88, 110},
         {101, 100},
         {102, 101},
         {101, 102},
         {99, 102},
         {96, 103},
         {94, 103},
         {91, 105},
         {167, 59},
         {169, 60},
         {171, 60},
         {214, 33},
      }
      local npc_coords = {
         -- Northwest forest spawns
         {6, 54, "Spearman"},
         {8, 58, "Spearman"},
         {7, 62, "Woodsman"},
         {15, 55, "Woodsman"},
         {17, 57, "Bowman"},
         {14, 64, "Bowman"},
         {18, 62, "Sergeant"},
         {35, 69, "Spearman"},
         {41, 75, "Heavy Infantryman"},
         {44, 73, "Bowman"},
         {36, 77, "Bowman"},
         {47, 75, "Horseman"},
         {43, 78, "Horseman"},
         {52, 77, "Cavalryman"},
         {38, 59, "Bowman"},
         {39, 61, "Spearman"},
         {41, 63, "Woodsman"},
         {51, 65, "Poacher"},
         {54, 67, "Bowman"},
         {57, 66, "Spearman"},
         {53, 71, "Lieutenant"},
         {52, 68, "Spearman"},
         {51, 70, "Spearman"},
         {54, 72, "Bowman"},
         {56, 72, "Bowman"},
         {59, 72, "Spearman"},
         {59, 67, "Bowman"},
         {61, 67, "Spearman"},
         {64, 68, "Spearman"},
         {69, 69, "Bowman"},
         {71, 68, "Spearman"},
         {57, 67, "Cavalryman"},
         {62, 76, "Spearman"},
         {41, 80, "Spearman"},
         {43, 82, "Bowman"},
         {49, 84, "Spearman"},
         {51, 85, "Bowman"},
         {55, 86, "Cavalryman"},
         {73, 73, "Spearman"},
         {74, 75, "Heavy Infantryman"},
         {77, 72, "Heavy Infantryman"},
         {73, 76, "Cavalryman"},
         {75, 66, "Bowman"},
         {75, 65, "Spearman"},
         {78, 63, "Bowman"},
         {79, 63, "Bowman"},
         {80, 62, "Spearman"},
         {81, 64, "Lieutenant"},
         {85, 64, "Spearman"},
         {91, 66, "Sergeant"},
         {92, 64, "Bowman"},
         {93, 64, "Spearman"},
         {95, 62, "Spearman"},
         {99, 60, "Bowman"},
         {88, 72, "Bowman"},
         {93, 75, "Spearman"},
         {99, 67, "Lieutenant"},
         {98, 66, "Fencer"},
         {97, 67, "Knight"},
         {97, 68, "Horseman"},
         {98, 68, "Horseman"},
         {98, 67, "Longbowman"},
         {91, 70, "Cavalryman"},
         {106, 59, "Poacher"},
         {104, 67, "White Mage"},
         {106, 68, "Knight"},
         {106, 69, "Dragoon"},
         {107, 66, "Spearman"},
         {107, 68, "Spearman"},
         {107, 70, "Bowman"},
         {104, 71, "Spearman"},
         {102, 71, "Spearman"},
         {100, 70, "Woodsman"},
         {115, 64, "Pikeman"},
         {117, 66, "Swordsman"},
         {118, 64, "Horseman"},
         {121, 64, "Horseman"},
         {120, 65, "Spearman"},
         {121, 65, "Bowman"},
         {119, 63, "Spearman"},
         {122, 61, "Bowman"},
         {119, 66, "Horseman"},
         {123, 66, "Cavalryman"},
         {117, 71, "Cavalryman"},
         {133, 73, "Cavalryman"},
         {128, 62, "Spearman"},
         {128, 63, "Bowman"},
         {128, 66, "Spearman"},
         {128, 67, "Bowman"},
         {126, 68, "Lieutenant"},
         {127, 71, "Longbowman"},
         {139, 69, "Spearman"},
         {136, 70, "Bowman"},
         {134, 70, "Bowman"},
         {130, 72, "Spearman"},
         {130, 74, "Bowman"},
         {136, 81, "Bowman"},
         {139, 80, "Spearman"},
         {146, 76, "Spearman"},
         {147, 80, "Bowman"},
         {147, 79, "Thug"},
         {146, 74, "Lieutenant"},
         {145, 74, "Fencer"},
         {145, 75, "Knight"},
         {144, 77, "Horseman"},
         {146, 78, "Horseman"},
         {142, 80, "Horseman"},
         {139, 83, "Swordsman"},
         {144, 83, "Pikeman"},
         {142, 83, "Heavy Infantryman"},
         {146, 83, "Longbowman"},
         {147, 83, "Ranger"},
         {146, 81, "Heavy Infantryman"},
         {151, 74, "Spearman"},
         {106, 76, "Pikeman"},
         {107, 79, "Cavalryman"},
         {112, 80, "Lieutenant"},
         {111, 80, "Red Mage", "female"},
         {112, 81, "Swordsman"},
         {110, 80, "White Mage"},
         {111, 81, "Mage"},
         {111, 82, "Mage", "female"},
         {112, 82, "Mage"},
         {112, 84, "Javelineer"},
         {116, 83, "Spearman"},
         {112, 86, "Bowman"},
         {113, 88, "Bowman"},
         {109, 87, "Shock Trooper"},
         {110, 88, "Duelist"},
         {110, 89, "Knight"},
         {108, 91, "Thug"},
         {109, 92, "Footpad"},
         {106, 92, "Rogue"},
         {105, 97, "General"},
         {106, 96, "Iron Mauler"},
         {106, 97, "Longbowman"},
         {103, 96, "White Mage", "female"},
         {97, 93, "Halberdier"},
         {91, 90, "Halberdier"},
         {99, 90, "Dragoon"},
         {94, 87, "Spearman"},
         {94, 86, "Longbowman"},
         {92, 84, "Pikeman"},
         -- West forest spawns
         {51, 199, "Poacher"},
         {48, 192, "Poacher"},
         {54, 195, "Spearman"},
         {57, 197, "Bowman"},
         {63, 196, "Thug"},
         {61, 195, "Sergeant"},
         {62, 193, "Bowman"},
         {61, 192, "Thug"},
         {61, 190, "Spearman"},
         {63, 189, "Thug"},
         {54, 189, "Footpad", "female"},
         {51, 188, "Footpad"},
         {62, 185, "Woodsman"},
         {57, 185, "Woodsman"},
         {48, 185, "Poacher"},
         {50, 184, "Spearman"},
         {51, 183, "Bowman"},
         {54, 180, "Spearman"},
         {13, 165, "Woodsman"},
         {15, 166, "Woodsman"},
         {22, 165, "Woodsman"},
         {30, 169, "Bowman"},
         {32, 170, "Spearman"},
         {33, 169, "Cavalryman"},
         {35, 172, "Bowman"},
         {37, 171, "Spearman"},
         {27, 163, "Woodsman"},
         {29, 164, "Bowman"},
         {31, 163, "Spearman"},
         {44, 172, "Cavalryman"},
         {51, 174, "Heavy Infantryman"},
         {48, 176, "Horseman"},
         {55, 175, "Lieutenant"},
         {55, 176, "Fencer"},
         {56, 175, "Horseman"},
         {56, 176, "Bowman"},
         {56, 177, "Spearman"},
         {53, 172, "Thug"},
         {51, 172, "Spearman"},
         {49, 171, "Bowman"},
         {49, 168, "Spearman"},
         {51, 167, "Thug"},
         {43, 168, "Bowman"},
         {44, 166, "Pikeman"},
         {43, 164, "Bowman"},
         {41, 163, "Spearman"},
         {38, 162, "Bowman"},
         {48, 156, "Cavalryman"},
         {45, 159, "Cavalryman"},
         {49, 167, "Horseman"},
         {35, 162, "Horseman"},
         {35, 161, "Woodsman"},
         {34, 159, "Spearman"},
         {37, 158, "Heavy Infantryman"},
         {32, 158, "Bowman"},
         {30, 154, "Poacher"},
         {47, 165, "Heavy Infantryman"},
         {47, 164, "Fencer"},
         {46, 162, "Red Mage"},
         {46, 161, "White Mage", "female"},
         {47, 161, "Mage"},
         {45, 162, "Knight"},
         {47, 162, "Swordsman"},
         {48, 163, "General"},
         {48, 164, "Longbowman"},
         {48, 160, "Heavy Infantryman"},
         {48, 158, "Spearman"},
         {47, 157, "Bowman"},
         {45, 157, "Spearman"},
         {42, 156, "Bowman"},
         {42, 154, "Spearman"},
         {38, 155, "Cavalryman"},
         {44, 153, "Cavalryman"},
         {31, 150, "Horseman"},
         {3, 146, "Spearman"},
         {5, 149, "Bowman"},
         {18, 142, "Spearman"},
         {26, 147, "Bowman"},
         {29, 150, "Spearman"},
         {29, 144, "Poacher"},
         {37, 147, "Footpad", "female"},
         {45, 148, "Spearman"},
         {49, 148, "Spearman"},
         {51, 152, "Heavy Infantryman"},
         {54, 147, "Knight"},
         {55, 148, "Trapper"},
         {53, 154, "Poacher"},
         {51, 159, "Poacher"},
         {57, 142, "Spearman"},
         {64, 141, "Pikeman"},
         {60, 142, "Dragoon"},
         {53, 137, "Spearman"},
         {51, 136, "Poacher"},
         {29, 137, "Lieutenant"},
         {30, 136, "White Mage"},
         {29, 136, "Knight"},
         {26, 137, "Fencer"},
         {25, 138, "Spearman"},
         {26, 138, "Bowman"},
         {25, 135, "Woodsman"},
         {28, 133, "Woodsman"},
         {32, 131, "Cavalryman"},
         {46, 134, "Cavalryman"},
         {36, 95, "Spearman"},
         {34, 116, "Spearman"},
         {36, 116, "Cavalryman"},
         {31, 122, "Footpad"},
         {39, 128, "Swordsman"},
         {40, 126, "Woodsman"},
         {42, 126, "Spearman"},
         {43, 129, "Bowman"},
         -- North forest spawns
         {156, 61, "Poacher"},
         {154, 60, "Spearman"},
         {151, 54, "Cavalryman"},
         {156, 51, "White Mage"},
         {149, 58, "Spearman"},
         {147, 57, "Bowman"},
         {144, 56, "Spearman"},
         {142, 55, "Bowman"},
         {144, 55, "Horseman"},
         {154, 53, "Lieutenant"},
         {155, 52, "Heavy Infantryman"},
         {151, 52, "Spearman"},
         {153, 51, "Bowman"},
         {153, 47, "Pikeman"},
         {165, 69, "Poacher"},
         {177, 70, "Sergeant"},
         {175, 71, "Heavy Infantryman"},
         {176, 66, "Spearman"},
         {174, 66, "Cavalryman"},
         {182, 61, "Bowman"},
         {171, 62, "Heavy Infantryman"},
         {173, 61, "Spearman"},
         {174, 60, "Bowman"},
         {176, 60, "Swordsman"},
         {178, 59, "Bowman"},
         {179, 58, "Spearman"},
         {178, 56, "Master Bowman"},
         {175, 55, "Spearman"},
         {176, 55, "Footpad"},
         {173, 55, "Bowman"},
         {171, 54, "Spearman"},
         {169, 52, "Bowman"},
         {175, 51, "Spearman"},
         {176, 52, "Heavy Infantryman"},
         {169, 54, "Shock Trooper"},
         {169, 55, "General"},
         {168, 54, "Mage"},
         {168, 56, "Mage", "female"},
         {170, 60, "Lieutenant"},
         {169, 62, "Thug"},
         {165, 58, "Thug"},
         {169, 56, "Knight"},
         {173, 53, "Cavalryman"},
         {168, 55, "Fencer"},
         {167, 56, "White Mage", "female"},
         {167, 57, "Fencer"},
         {177, 57, "Horseman"},
         {173, 57, "Fencer"},
         {172, 60, "Fencer"},
         {172, 55, "Thief"},
         {169, 59, "Thief"},
         {164, 46, "Spearman"},
         {167, 46, "Poacher"},
         {166, 45, "Heavy Infantryman"},
         {165, 43, "Bowman"},
         {176, 42, "Spearman"},
         {176, 41, "Horseman"},
         {174, 34, "Spearman"},
         {174, 33, "Cavalryman"},
         {173, 34, "Bowman"},
         {170, 35, "Spearman"},
         {160, 37, "Spearman"},
         {158, 38, "Bowman"},
         {157, 42, "Spearman"},
         {154, 40, "Bowman"},
         {152, 39, "Spearman"},
         {148, 41, "Woodsman"},
         {144, 43, "Woodsman"},
         {140, 45, "Bowman"},
         {138, 46, "Spearman"},
         {139, 48, "Bowman"},
         {147, 44, "Cavalryman"},
         {142, 35, "Poacher"},
         {149, 35, "Woodsman"},
         {147, 36, "Spearman"},
         {137, 34, "Footpad"},
         {132, 38, "Spearman"},
         {128, 34, "Bowman"},
         {130, 35, "Spearman"},
         {126, 36, "Spearman"},
         {128, 38, "Bowman"},
         {127, 35, "Sergeant"},
         {130, 37, "Horseman"},
         {156, 29, "Sergeant"},
         {161, 27, "Woodsman"},
         {155, 32, "Poacher"},
         {158, 32, "Bowman"},
         {160, 33, "Spearman"},
         {160, 35, "Cavalryman"},
         {163, 12, "Footpad"},
         {171, 12, "Trapper"},
         {169, 14, "Poacher"},
         {173, 14, "Poacher"},
         {178, 13, "Poacher"},
         {187, 12, "Poacher"},
         {207, 9, "Spearman"},
         {202, 9, "Bowman"},
         {203, 11, "Cavalryman"},
         {200, 14, "Spearman"},
         {203, 20, "Woodsman"},
         {208, 24, "Woodsman"},
         {198, 31, "Bowman"},
         {190, 22, "Spearman"},
         {187, 29, "Bowman"},
         {186, 32, "Poacher"},
         -- Fort Garn
         {203, 36, "Spearman"},
         {205, 33, "Bowman"},
         {208, 33, "Spearman"},
         {212, 32, "Bowman"},
         {211, 37, "Spearman"},
         {206, 37, "Bowman"},
         {204, 38, "Spearman"},
         {202, 39, "Red Mage"},
         {200, 34, "Poacher"},
         {207, 43, "Spearman"},
         {209, 42, "Bowman"},
         {216, 42, "Spearman"},
         {218, 40, "Bowman"},
         {215, 40, "Heavy Infantryman"},
         {213, 40, "Spearman"},
         {214, 38, "Bowman"},
         {209, 35, "Lieutenant"},
         {205, 36, "Cavalryman"},
         {211, 35, "Cavalryman"},
         {207, 33, "Cavalryman"},
         {211, 32, "Thug"},
         {203, 38, "Footpad"},
         {215, 31, "Swordsman"},
         {216, 32, "Knight"},
         {206, 36, "Horseman"},
         {208, 34, "White Mage"},
         -- North dwarves
         {158, 6, "Dwarvish Scout"},
         {161, 3, "Dwarvish Guardsman"},
         {167, 2, "Dwarvish Guardsman"},
         {169, 3, "Dwarvish Fighter"},
         {177, 2, "Dwarvish Scout"},
         {174, 2, "Dwarvish Guardsman"},
         {187, 1, "Dwarvish Guardsman"},
         {201, 2, "Dwarvish Guardsman"},
         {206, 4, "Dwarvish Guardsman"},
         {221, 3, "Dwarvish Scout"},
         {222, 2, "Dwarvish Guardsman"},
         {231, 2, "Dwarvish Guardsman"},
         {242, 2, "Dwarvish Guardsman"},
         {243, 6, "Dwarvish Guardsman"},
         {247, 8, "Dwarvish Fighter"},
         {246, 2, "Dwarvish Scout"},
         {247, 5, "Dwarvish Guardsman"},
         {246, 10, "Dwarvish Guardsman"},
         -- Dwarvish City (entrances)
         {250, 27, "Dwarvish Guardsman"},
         {256, 14, "Dwarvish Thunderer"},
         {252, 21, "Dwarvish Scout"},
         {255, 17, "Dwarvish Guardsman"},
         {261, 27, "Dwarvish Guardsman"},
         {263, 28, "Dwarvish Fighter"},
         {273, 26, "Dwarvish Guardsman"},
         {274, 27, "Dwarvish Guardsman"},
         {290, 24, "Dwarvish Guardsman"},
         {290, 16, "Dwarvish Guardsman"},
         {292, 14, "Dwarvish Guardsman"},
         {288, 14, "Dwarvish Guardsman"},
         {287, 12, "Dwarvish Guardsman"},
         {292, 5, "Dwarvish Guardsman"},
         {294, 6, "Dwarvish Guardsman"},
         {258, 2, "Dwarvish Guardsman"},
         {259, 5, "Dwarvish Guardsman"},
         {262, 3, "Dwarvish Fighter"},
         {270, 2, "Dwarvish Guardsman"},
         {259, 10, "Dwarvish Guardsman"},
         {315, 14, "Dwarvish Scout"},
         {306, 16, "Dwarvish Fighter"},
         -- Dwarvish City (other spawns)
         {260, 24, "Dwarvish Fighter"},
         {259, 22, "Dwarvish Fighter"},
         {259, 20, "Dwarvish Thunderer"},
         {257, 18, "Dwarvish Scout"},
         {260, 15, "Dwarvish Stalwart"},
         {264, 14, "Dwarvish Guardsman"},
         {260, 13, "Dwarvish Fighter"},
         {262, 13, "Dwarvish Fighter"},
         {267, 13, "Dwarvish Thunderer"},
         {265, 11, "Dwarvish Fighter"},
         {263, 9, "Dwarvish Fighter"},
         {271, 7, "Dwarvish Scout"},
         {274, 3, "Dwarvish Scout"},
         {274, 11, "Dwarvish Fighter"},
         {263, 18, "Dwarvish Lord"},
         {262, 18, "Dwarvish Arcanister"},
         {262, 19, "Dwarvish Steelclad"},
         {267, 16, "Dwarvish Sentinel"},
         {259, 18, "Gryphon Rider"},
         {268, 19, "Gryphon Rider"},
         {270, 20, "Dwarvish Steelclad"},
         {273, 19, "Dwarvish Pathfinder"},
         {268, 21, "Dwarvish Ulfserker"},
         {268, 23, "Dwarvish Thunderer"},
         {268, 27, "Dwarvish Scout"},
         {279, 15, "Dwarvish Scout"},
         {263, 25, "Dwarvish Scout"},
         {281, 19, "Dwarvish Fighter"},
         {286, 10, "Dwarvish Runesmith"},
         {277, 6, "Dwarvish Fighter"},
         {279, 6, "Dwarvish Guardsman"},
         {278, 7, "Dwarvish Ulfserker"},
         {279, 8, "Dwarvish Fighter"},
         {279, 10, "Dwarvish Fighter"},
         {279, 3, "Dwarvish Thunderer"},
         {281, 4, "Dwarvish Fighter"},
         {282, 3, "Dwarvish Fighter"},
         {281, 7, "Dwarvish Fighter"},
         {285, 8, "Dwarvish Guardsman"},
         {288, 8, "Dwarvish Fighter"},
         {290, 9, "Dwarvish Fighter"},
         {287, 11, "Dwarvish Thunderer"},
         {287, 9, "Dwarvish Scout"},
         -- Monastery of Fire
         {200, 72, "Great Mage"},
         {201, 72, "Arch Mage"},
         {200, 73, "Arch Mage", "female"},
         {201, 75, "Mage", "female"},
         {203, 72, "Mage"},
         {204, 73, "White Mage"},
         {203, 75, "Red Mage", "female"},
         {205, 74, "Red Mage"},
         {206, 72, "Silver Mage", "female"},
         {201, 70, "Mage", "female"},
         {208, 72, "Mage"},
         {205, 71, "Red Mage", "female"},
         {202, 71, "Qatif_al_nar"},
         {212, 73, "Naffat"},
         {198, 73, "Naffat"},
         {204, 70, "Naffat"},
         {203, 77, "Drake Burner"},
         {204, 68, "Drake Burner"},
         {209, 70, "Fire Guardian"},
         {197, 70, "Fire Guardian"},
         {206, 67, "Fire Guardian"},
         {198, 75, "Fire Guardian"},
         {208, 74, "Fire Guardian"},
         -- Blinadoc
         {239, 172, "Peasant"},
         {237, 168, "Peasant"},
         {239, 175, "Peasant"},
         {243, 177, "Peasant"},
         {245, 172, "Cavalryman"},
         {246, 174, "Bowman"},
         {240, 179, "Woodsman"},
         {238, 178, "Woodsman"},
         {233, 173, "Woodsman"},
         {233, 170, "Woodsman"},
         {237, 166, "Woodsman"},
         {234, 167, "Sergeant"},
         {241, 175, "Mage", "female"},
         {252, 170, "Spearman"},
         {248, 165, "Ruffian"},
         {248, 163, "Ruffian"},
         {250, 163, "Peasant"},
         {250, 166, "Woodsman"},
         {250, 162, "Mage"},
         {236, 170, "Horseman"},
         {224, 158, "Footpad"},
         -- Humans northwest of Blinadoc
         {215, 140, "Poacher"},
         {212, 138, "Woodsman"},
         {210, 136, "Ruffian"},
         {227, 128, "Footpad"},
         {227, 123, "Spearman"},
         {224, 120, "Woodsman"},
         {227, 119, "Woodsman"},
         {232, 119, "Poacher"},
         {231, 123, "Woodsman"},
         {230, 121, "Peasant"},
         {227, 120, "Ruffian"},
         {204, 121, "Mage", "female"},
         {199, 121, "Mage"},
         {202, 121, "Mage"},
         {186, 123, "Spearman"},
         {186, 127, "Thug"},
         {183, 130, "Woodsman"},
         {176, 128, "Woodsman"},
         {177, 126, "Woodsman"},
         {173, 127, "Peasant"},
         {171, 124, "Sergeant"},
         {169, 125, "Peasant"},
         {173, 124, "Ruffian"},
         {248, 127, "Sergeant"},
         {249, 127, "Peasant"},
         {250, 126, "Woodsman"},
         {252, 129, "Ruffian"},
         {251, 131, "Spearman"},
         {254, 132, "Woodsman"},
         {232, 100, "Woodsman"},
      }
      for i, coord in ipairs(peasant_coords) do
         spawn_npc(coord, "Peasant")
      end
      for i, coord in ipairs(woodsman_coords) do
         spawn_npc(coord, "Woodsman")
      end
      for i, coord in ipairs(ruffian_coords) do
         spawn_npc(coord, "Ruffian")
      end
      spawn_unit.spawn_region(npc_coords, NPC_SIDE)
      -- Set the place names and teleporters
      for i, place_name in ipairs(place_names) do
         fire.label(place_name[1], place_name[2], place_name[3])
      end
      starter_teleporters()
      starter_shops()
   elseif wesnoth.get_variable("aeth_scenario_name") == "Battle" then
      battle_starter_teleporters()
      battle_starter_shops()
   -- else
   --    debugOut(wesnoth.get_variable("aeth_scenario_name"))
   end
end
>>
#enddef

MASTER OF DUNGEONS TODO LIST (82% Progress)
When this list is complete/empty and extensive testing and bugfixing has been done, bump to version 1.0
Each point removed yields 2% completion.

 (1) Inventory Containers
     * Add item containers.
       * Make them have their proper effects.

     * If it is a normal container, units can add items it to and remove items from it for free.
     * The host can stock/remove items from a container and disable adding to a container.

     * When a container has its last item removed, different ones behave in different ways:
       * A pack is removed from the map automatically.
       * All other containers persist until being removed by the host.

     * When a unit dies, its inventory is automatically dropped into a newly created leather pack.
       * fixme: Handle a unit dying on a hex with an existing container. Allow multiple packs to be on a single hex and only show the top visible one and hide packs if something else is on top?

     * There are several allowed shop actions.
       * Host-only:
         * Place shops
         * Configure shops
         * Adjust inventory of shops
         * Remove shops
       * Any unit on hex or immediately adjecent to hex:
         * Buy items from shops.
         * Sell items to shop.
           * Buying price defaults to math.floor(.8 * cost)
           * Allow the host to alter default buying price or disable feature.

     * There are several allowed container actions.
       * Host-only:
         * Place/remove containers.
       * Any unit on hex:
         * Add item to container (if allowed)
         * Remove item from container


 (2) Inventory
     (a) Give inventory from unit to adjacent unit.
         * also give gold from the unit's side to the adjacent unit's side

     (b) Haste potion.
         * Extra melee strike, +2 total moves.
         * Small = 2 turns, Medium = 4 turns.
         * Multiple potions stack the turn duration, not the effect strength.

     (c) Ale.
         * "Confidence" ability: +5 max HP for 3 turns.
         * 25% chance of also becoming drunk (berserk melee) for that duration
         * More ale stacks the turn duration, not the effect strength, but the 25% chance of berserk melee is on applying each ale.
         * Perhaps un-marskman all marksman attacks for that duration too.

     (d) Implement effects for the scrolls.
         * Possible spells:
           * Increase experience
           * Healing (perhaps working with radius or group or friendly to differentiate from potions)
           * Summon unit/type (enables you to summon once and then disables summoning)

     (e) Implement equipment.
         * Using the item equips it into an equipment spot.
         * Unequipping it is possible from its own menu.
         * When the unit dies, all equipment are unequipped so equipment are on drops.
         * When equipping an item to a spot that already has something, the old equipment is automatically unequipped.


 (3) Upgrades
     * Units store upgrade points and a counter of every upgrade bought.
     * Include the following possible advancements:
       * + 1 movement (cost: 3, cap: 2)
       * + 3 hitpoints (cost: 1)
       * + 1 to melee attacks' damage (cost: 2, increases by 1 each time)
       * + 1 to range attacks' damage (cost: 2, increases by 1 each time)
       * - 20% XP to next promotion (cost: 2, cap: 2)


 (4) Miscellaneous
     * Make the host modification/management of units more powerful.
       * Toggle the boss healthy/regenerate on/off.
         * Perhaps give bosses extra traits so this doesn't break.
       * Alter a unit's advancement points.
       * Allow a unit to be saved into persistant variables for import.

     * Getting units to the game.
       * Allow the placement of any unit instantly. 
         * Allow bosses that aren't summoners and "regular" units.
       * Allow import of units saved in persistant variables.
       * Save units when they die to a resurrection table.
         * The host should be able to resurrect, and perhaps there should be a resurrection scroll as well.
       * Add a way to control the recalling of units, recall lists, and saving of items, dead units, etc., across scenarios in a campaign.
         * Prevent the traditional keep-and-gold recalling of units.

     * Implement additional objects on maps:.
       * teleporters
       * traps
       * keys/locks for doors/chests/etc.

 (4b) Details
     * DungeonOpt
       * Test to see where the "cancel" options are broken.
       * Write a method for handling text_input
         * Add a cancel option.
       * Rewrite to handle the extra filters and other things that prevent all files from using DungeonOpt.
       * Add helper functions for more option/menu functions than just options_list_short()

     * Existing issues.
       * Block right click menu items on map border because they cause Lua errors.
       * Fix the changing objectives so that it works again.
         * Have the new interface change subsections (victory, loss, etc.) instead of the whole thing so that formatting can be preserved.

     * Terrains.
       * Add repeat last overlay.
       * Move overlays to second position on the menu.
       * Fix remove overlay.
       * Fix some bridges and other broken overlays.
       * Test all terrains/overlays over again.
       * All terrains/overlays/etc. available in-game should be usable in MoD.

    * Summoners and units.
       * Make sure all units in the game are a summoner or a summoned unit.
       * Add a default summoner gender for when two genders are possible for summoners so it doesn't always default to male.
       * Add preset super summoners for the late game when people have strong units, and to make high-level summons accessible.
       * Have summons give some xp back to their summoners (perhaps only in certain circumstances, like a player summoner)
       * Have game options enable something else instead of deduction of HP for summoning.
       * Cap or balance the number of summons (perhaps on a per-summoner basis) somehow.
         * Perhaps reduce total HP per active summoned unit.

     * Finish testing the dynamic_difficulty() function to get it to work

     * Rewrite the older parts of the MoD code.
       * Make sure that it's in three layers: objects and functions that are useful in other add-ons, core MoD action functions, and data/config files.


 (4c) Features for after 1.0... 
     * Work on compatability code with other eras.
       * Allow the host to be able to change EoT variables.

     * Work on allowing MoD mods.
       * Include a "card game" mod where items (including summon unit scrolls) are "drawn" from a deck and you can only use something that's in your hand.
       * Rewrite Underlands RPG to be a pre-scripted RPG campaign for MoD, and improve the scripting, etc., in MoD so that every aspect of it is changeable.

